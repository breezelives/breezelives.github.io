<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
<meta charset="utf-8" />
<title>clip_CSS参考手册_web前端开发参考手册系列</title>
<link rel="stylesheet" type="text/css" href="css/font-awesome.css">
<style>
p {
	float: left;
	direction: rtl;
	color: #f90;
}
p i {
	cursor: pointer;
}
p i:hover:before,
p i:hover ~ i:before {
	content: "\f005";
}
#d {
	width: 100px;
	height: 100px;
	border: 1px solid #ccc;
	position: relative;
	text-align: center;
	line-height: 100px;
	font-size: 5em;
	color: #f09;
}

[draggable=true] {   
	/*-moz-user-select:none;*/
	/*-khtml-user-drag: element;*/
	cursor: move;
}


</style>
<script type="text/javascript">
	window.onload = function(){

		function $(id){
			return document.getElementById(id);
		}

		function getOffset(e) {
			return {
				x: e.clientX - parseInt(e.target.style.left, 10),
				y: e.clientY - parseInt(e.target.style.top, 10)
			}
		}

		function setXY(ele, x, y) {
			ele.style.left = x + 'px';
			ele.style.top = y + 'px';
		}

		var offset;
		var d = $('d');
		d.ondragstart = function(e){
			offset = getOffset(e);
		};

		// d.ondrag = function(e){
		// 	console.log(e);
		// };

		// d.addEventListener('dragenter', function(e){
		// 	console.log('dragenter');
		// });
		
		document.ondragover = function(e){
			e.preventDefault();
			console.log('dragover');
		};

		document.ondrop = function(e){
			e.preventDefault();
			console.log('drop');
		};

		d.ondragover = function(e){
			e.preventDefault();
			console.log('dragover');
		};

		d.ondrop = function(e){
			e.preventDefault();
			console.log('drop');
		};

		d.ondragleave = function(e){
			e.preventDefault();
			console.log('dragleave');
		};

		d.ondragend = function(e){
			e.target.style.cursor = 'move';
			// console.log(e);
			setXY(e.target, e.clientX-offset.x, e.clientY-offset.y);
		};


		// d.addEventListener('mousemove', function(e){
		// 	// e.preventDefault();
		// 	console.log(e);
		// 	setXY(e.target, e.x+e.offsetX, e.y+e.offsetY);
		// });

		// d.addEventListener('mouseup', function(e){
		// 	// setXY(e.target, e.x, e.y);
		// });


		//浏览器右下角默认提示
		$('notify').onclick = function(){
			if(window.Notification){
				if(Notification.permission === 'granted'){
					var notification = new Notification('提示标题', {
						body: '提示内容'
					})
				} else {
					$('getPermission').onclick = function(){
						Notification.requestPermission();
					}
				}
			} else {
				alert('你的浏览器不支持此特性，请下载谷歌浏览器试用该功能')
			}
		}


	}

	
		var w;

		function startWorker()
		{
			if(typeof(Worker)!=="undefined")
			{
			  if(typeof(w)=="undefined")
			    {
			    w=new Worker("js/demo_workers.js");
			    }
			  w.onmessage = function (event) {
			    document.getElementById("result").innerHTML=event.data;
			  };
			}
			else
			{
				document.getElementById("result").innerHTML="Sorry, your browser does not support Web Workers...";
			}
		}

		function stopWorker()
		{
			w.terminate();
		}
</script>
</head>
<body>
<p>Count numbers: <output id="result"></output></p>
<button onclick="startWorker()">Start Worker</button>
<button onclick="stopWorker()">Stop Worker</button>
<br><br>
<p style="display: none">
	<i class="fa fa-star-o fa-spin"></i>
	<i class="fa fa-star-o fa-pulse"></i>
	<i class="fa fa-star-o fa-flip-horizontal"></i>
	<i class="fa fa-star-o fa-spin"></i>
	<i class="fa fa-star-o fa-spin"></i>
</p>
<div draggable="true" style="left:100px; top: 100px;" id="d"><i class="fa fa-opera fa-spin"></i>
</div>
<br><br>
<button id="notify" type="button">notify</button>
<button id="getPermission" type="button">getPermission</button>
</body>
</html>
